/* Paideia theme */
/* a sub-theme for the "framework" layout plugin for web2py */
/* copyright Ian W. Scott, 2011-2012 */
/* licensed under GPL 3.0 as a free, open-source resource */

@import "framework";
@navheight:@lineheight2 - 4;

@accent1: @cranberry;
@accent2: @sol_yellow;
@accent3: @dusky-blue2;
@accent4: @moss;
@accent5: @sky;
@accent6: @sol_blue;
@accent7: @mist;
@accent8: @sol_green;
@accent9: #852625;
@accent10: #AAE557;
@accent11: #809240;
@accent12: @sol_red;
@neutral1: @chalk;
@neutral2: @cream;
@neutral3: @sol_grey1;
@neutral4: @sol_aqua;
@neutral5: @sol_beige;
@neutral6: @grey6;
@neutral7: #aaa;
@neutral8: #eee;
@neutral9: #f5f5f5;
@white: #fff;

body       {background-color: @neutral1;
            background-image: url('/paideia/static/images/mosaic_texture1.png');
            background-repeat: repeat;
            z-index:1;
            font-family: SBLGreekRegular, @fonts2;}

body header    {height:@navheight;
                background:transparent;
                z-index:99;
                padding:0;
                margin-top:18px;

    h1         {height:@navheight;
                line-height:@navheight;
                overflow:hidden;
                float:left;
                margin: 6px 0 0 65px;

        a      {display:block;
                background-color:@neutral2;
                color: @accent1;
                font-size:@typeheight2;
                height:@navheight;
                line-height:@navheight;
                font-family:@fonts1;
                overflow:hidden;
                padding:0 @typeheight;
                letter-spacing:4px;
                .blockletter();}
        }
    }

/* main navigation menu */
nav                        {background-color:@cream;
                            padding: 0;
                            margin:6px 64px 0 0;
                            height:@navheight;
                            .blockletter-small();
    /* hoverfish menu */
    .sf-menu               {
        li                 {background-color:transparent;
                            height:@navheight;
                            line-height:@navheight;

            /* first-level menu links */
            a,
            a:link,
            a:visited      {color:@accent1;
                            font-weight:bold;
                            padding:0 @typeheight;
                            border:0;
                            text-transform:uppercase;
                &:hover,
                &:active,
                &:focus    {.linear-gradient(rgba(270,270,270,0.1), rgba(270,270,270,0)); }
                }

            /* second-level menus */
            &:hover,
            .sfHover   {background-color:transparent;
                li     {line-height: @lineheight2;
                        height: @lineheight2;
                        background-color:@neutral4;
                        font-weight:normal;
                    a  {color:@white;
                        &:hover {color:@accent5;}
                    }
                }
            }
        }
    }

.auth_navbar           {color:@accent1;
                        height:@navheight;
                        line-height:@navheight;
                        display:block;
                        font-weight:bold;
                        text-transform:uppercase;
                        font-size:@typeheight * .8;

    li                 {float: right;
        &:nth-child(1) {.icon-logout;}
        &:nth-child(2) {margin-left:@typeheight / 2;
                        .icon-profile;}
    }

    a,
    a:link,
    a:visited          {height:@navheight;
                        line-height:@navheight;
                        color:@accent1;
                        display:block;
                        float:right;
                        margin:0 0 0 0;
                        margin-right:@typeheight * 2}
        &:hover,
        &:active,
        &:focus        {}
        }
    }

/*The main page element for presenting ui*/
body #page             {margin-top:-(@lineheight2 + 14);
                        z-index:1;
                        border:65px solid transparent;
                        .border-image('/paideia/static/images/page_border.png', 170, 170, 170, 171, 65);
                        border-image-width:65px;
                        background:@neutral1;
                        overflow: hidden;
                        min-height:670px;
    /* handle any nested page elements */
    #page              {.border-image('', 0, 0, 0, 0, 0);}

    /*Utility panel for development and debugging*/
    #utils             {background-color:@neutral1;
                        color: #fff;
                        .inset-text;
                        position: absolute;
                        display: block;
                        width:300px;
                        left:-302px;
                        .transition();
                        z-index:99;
                        min-height:200px;
                        padding: @typeheight;

        &:hover        {left:0;
                        .box-shadow();
                        .transition();}

        input          {width:@lineheight3;
                        margin-right:@typeheight;}
        a              {color: @white;
            &:hover    {color: @accent5;}
            }
        .icon-gear     {display: block;
                        position: absolute;
                        left:300px;
                        top:0;
                        background-color:#666;
                        padding: @typeheight/2;
                        .border-radius(0, @typeheight/2, @typeheight/2, 0);}
        #session_data  {overflow: auto;
                        height:400px;}
        }

    /*Main headings for page-level content*/
    h2                 {padding-left: @lineheight3;
                        margin-top: @lineheight2;
                        color: @accent3;
                        text-shadow:0 0 6px #fff;}
    div,
    aside              {padding:0;}

    /*Paragraph text content, as in news posts or instruction pages*/
    article            {padding-left:@lineheight3;
                        padding-right:@lineheight3;
                        text-align:justify;
                        -moz-hyphens:auto;
                        -webkit-hyphens:auto;
                        font-family:prociono;
                        color:@neutral3;
        section        {padding:0;}

        h2             {padding-left:0;}

        h3,
        h3 a           {color:@accent2;
                        padding-top:@lineheight;}

        .date_created  {display:block;
                        color:@accent5;}
        .article_wrapper {padding:0;}

        p              {margin:0;
                        text-indent: @lineheight2;
            &:first-of-type
                       {text-indent:0;}
            }

        ul             {padding-top:@lineheight / 2;
                        padding-left: @lineheight2;
                        padding-bottom:@lineheight;
            li         {list-style-type: disc;
                        list-style-position: outside;
                        padding-bottom:@lineheight / 2;}
            }
        a,
        a:link,
        a:visited      {color: @accent6;
            &:hover    {color: @accent3;}
            &.button-green-grad
                       {color: @white;
                        margin-top:@lineheight;
                        margin-left:0;
                        text-transform: capitalize;}
            }
        }

    #updates {
        margin-top: @lineheight3;

        h3 {
            margin-left: @lineheight3;
            color:@accent1;
            text-transform:uppercase;
            letter-spacing:2px;
        }

        .news_create_link {
            float: right;
            margin-right: @lineheight3;
            color: @accent4;
            .blockletter-small();
        }

    }

    /*The main map for navigating the town*/
    #town_map {
        width:860px;
        height:665px;
        position:absolute;
    }
    .townmap_key_trigger                   {position: absolute;
                                            display:inline-block;
                                            top:@typeheight;
                                            right:@typeheight;
                                            color:@white;
                                            background-color: @accent4;
                                            line-height: @lineheight2 + 4px;
                                            height: @lineheight2 + 4px;
                                            width: @lineheight2 + 4px;
                                            border-radius: (@lineheight2 / 2) + 2px;
                                            border:4px solid @white;
                                            text-align: center;
                                            z-index:10;
                                            padding-bottom:4px;
                                            .box-shadow();
                                            .inset-text();}

    #townmap_key                           {position: absolute;
                                            height:181px + ((@lineheight /2) * 2);
                                            display:block;
                                            top: @lineheight2;
                                            right:@lineheight2;
                                            background-color: #fff;
                                            .box-shadow();
                                            display:none;
                                            z-index:9;
                                            border: (@lineheight / 2) solid @white;
        &.tip-visible                      {display:block;}
        img                                {width:277px;
                                            border: 2px solid @neutral5}
        }


    /*Comments on news posts*/
    .comments{
        padding: 0;
        margin-top: @lineheight3;

        .comment {
            padding: 0;
            padding-bottom: @lineheight;
            margin-bottom: @lineheight;
            border-bottom: 1px solid #e6e6e6;
            color: #888;

            .comment_author{
                color: @accent12;
            }
            .comment_date {
                color: @neutral7;
                display: block;
                float: right;
            }
            .comment_body {
                display: block;
            }
        }

        textarea {
            border: 1px solid #ccc;
        }
    }

    /*Sidebars*/
    #left_sidebar, #right_sidebar {
        padding:@lineheight3;
        width:30%;
        float:right;
        border-left:1px solid #e6e6e6;
        clear:right;
        margin-left:@lineheight3;
        font-family:prociono;

        h2 {
            font-family: Arial;
            text-transform: uppercase;
            font-size: @typeheight;
            letter-spacing: 2px;
            font-weight: normal;
            color: @neutral7;
        }

        a, a:link, a:visited {
            color:@red;
        }

        div {
            height: @lineheight;
            overflow: hidden;
            padding: 0;
            -moz-transition: 300ms all;
        }

        div:hover {
            height:auto;
            -moz-transition: 300ms all;
            transition: 300ms all;
        }

    }

}

#page.start {
    background:@accent7;
    overflow: hidden;

}

#page.login                {
    .loginform             {width: 450px;
                            /*.centered-vertical-block(240px);*/
                            .centered-horizontalB(450px);
                            margin-top: @lineheight2;
        form               {width: 100%;
            table          {border-collapse: collapse;
                            width: 100%;
                input[type=text],
                input[type=password] {width: 90%}
                }
            } 
        }
        a                  {display:block;
                            width:100%;
                            background-color: @sol_green;
                            color: @white;
                            line-height: @lineheight2;
                            height: @lineheight2;
                            padding-left: @lineheight;
                            .blockletter-small();
            &:last-child   {background-color: @sol_yellow;}
            }
    }

#page.exploring            {overflow: hidden;

    .bg_image              {position: absolute;
                            z-index:1;
                            width:100%;

        img                {width:100%;
                            opacity:0.5;}
        }
    .speaker               {position: absolute;
                            z-index:2;
                            left:0px;
                            top:48px;
                            width:380px;
        img                {position:relative;
                            /*width:100%;*/
                            height:680px;}
        }
    .prompt,
    .responder                     {margin-top: @lineheight/2;
                                    margin-left:260px;
                                    max-width: 65%;
                                    font-size: @typeheight * 1.25;
                                    line-height: @lineheight * 1.25;
        p                          {margin:0;}
        #no_table_response__row        {
            td                         {text-align: left;
                label                  {margin-left: @typeheight;
                                        text-transform: lowercase;
                                        font-size: @lineheight2;
                                        font-family: SBLGreekRegular}
                &.w2p_fl:first-child   {display: none;}
                }
            input                      {font-size: @lineheight2;
                                        font-family: SBLGreekRegular}
            }
        #submit_record__row        {
            td.w2p_fl:first-child  {display: none;}
            }
        ul                         {padding-left: @lineheight;
            li                     {font-size: @typeheight * 1.25;
                                    color:@accent2;}
            }
        .button            {display:inline-block;}
        .prompt_image      {height: 200px;
                            float: right;}
        .guidelines        {z-index:10;
                            clear:both;}
        .q_counter         {color:#ccc;
                            width:100%;
                            font-size:@typeheight;}
        .readable_short,
        .readable_long     {color:@accent7;}
        .prompt_badges_wrapper,
        .bug_reporter_wrapper,
        .prompt_tips_wrapper
                           {display: block;
                            position: absolute;
                            bottom: -@typeheight;
                            right: -@typeheight;}
        .prompt_badges,
        .bug_reporter,
        .prompt_tips       {font-size: @typeheight;
                            line-height: @lineheight;
                            color: @neutral6;
                            padding: @lineheight;
                            left:-320px;
                            top:-@lineheight * 3;
                            margin-left:0;
                            display:none;
                            z-index:10;
                            .tip-left(#fff);
            span,
            a              {font-size: @typeheight;}
            }
        }
        .bug_reporter_icon,
        .prompt_badges_icon,
        .prompt_tips_icon      {.sticker(@lineheight2, @typeheight2);
                                background-color: @accent4;
                                color: @white;
                                font-size: @lineheight / 2;
                                line-height: @lineheight2;
                                text-align: center;
                                border:2px solid @white;}
    .prompt                {.speech-bubble-left(@lineheight, @typeheight);
                            min-height: @typeheight * 4;
                            z-index:4;
        div                {.group();} /* clearfix class */
        }
    .responder             {.speech-bubble-down(@lineheight, @typeheight, @neutral3);
                            color: @neutral1;
                            z-index:3;}
    }

#page.listing              {
    #viewpane              {background-color:@neutral1;

        input[type=text],
        textarea           {width:100%;}

        select             {width:100%;}

        .plugin_ajaxselect select[multiple=multiple]
                           {height:300px;}
        label              {color:@accent4;
                            line-height:@lineheight;}
        .w2p_fl            {margin-top:@lineheight;}

        li#steps_id_row,
        #delete_record_row,
        #submit_row        {
            div.w2p_fl,
            div.w2p_fw     {display:inline-block;
                            float:left;}
            }
        }
    }

/* profile pages ************************************************/
#page.profile,
#page.user                 {
    /* jquery ui tabs */
    .ui-widget-content     {border:1px solid transparent;}
    .ui-widget-header      {background: @neutral5;
                            .blockletter-small;
                            border:1px solid transparent;

        .ui-state-default  {background: transparent;
                            border:1px solid transparent;}
        .ui-state-default.ui-state-active
                           {background: @neutral1;
            a              {color: @accent1;}
            }
        }

    /* tab content */
    div.tab                {padding:@lineheight;
                            background-color:@neutral1;
                            .textdefaults;

        h4                 {color: @accent2;
                            font-size: @typeheight2;}
        }

    /* common styles for reporting tables */

    table              {text-align:left;
                        border-collapse:separate;
                        border-spacing:2px;
        th             {font-weight:bold;
                        background-color:@white;
                        vertical-align:middle;
                        text-align:center;}
        td             {background-color: @neutral5;
                        padding: (@typeheight / 2) @typeheight;}
        }

    /* summary stats (badges) tab */
    p.overview             {
        li                 {color: @accent2;
                            padding-left: @lineheight3;}
        .total_len,
        .max_set           {background:@neutral9;
                            border:3px solid @neutral8;
                            display:inline-block;
                            height: @lineheight2;
                            width: @lineheight2;
                            border-radius:@lineheight2 / 2;
                            color:@neutral7;
                            line-height:@lineheight2;
                            text-align:center;
                            box-shadow:0px 2px 6px rgba(0,0,0,0.3);}
        }
        .most_recent       {color: @accent2;}
    table.summary_stats    {border-collapse:separate;
                            border-spacing:2px;
                            border-radius: @lineheight/4;
                            padding:(@lineheight/4) 0;
                            background:@white;

        td                 {vertical-align:middle;
                            background: @neutral5;
                            padding: (@lineheight/2) @lineheight;
            ul             {max-height: @lineheight * 6;
                            overflow: auto;}
          
            }

        td.total_cat1,
        td.total_cat2,
        td.total_cat3,
        td.total_cat4      {height:40px;
                            width:40px;
                            color:#fff;
                            height:40px;
                            text-align:center;
                            font-size:20px;
                            padding:0;
                            font-family:"Droid Sans", @fonts3;
                            text-shadow:0px 1px 3px rgba(0,0,0,0.3);}
        td.total_cat4      {background-color:@accent11;}
        td.total_cat3      {background-color:@accent10;}
        td.total_cat2      {background-color:@accent2;}
        td.total_cat1      {background-color:@accent9;}
        }

    /* calendar for monthly user statistics */
    .paideia_monthcal          {position: relative;
                                width: 430px;
        .monthcal_intro_line   {.group;
                                margin-bottom: @typeheight/2;}
        h4                     {display: block;
                                margin: (@typeheight/2) 120px;
                                text-align: center;}
        .monthcal_next_link,
        .monthcal_prev_link    {.icon-only;
                                color: @neutral5;
                                font-size: 0;
                                margin-top: @typeheight/2;
            &:after            {opacity: 0.7;}
            }
        .monthcal_next_link    {float: right;
                                .arrow-right;}
        .monthcal_prev_link    {float:left;
                                .arrow-left;}
        .paideia_monthcal_table
                               {border-spacing:2px;
            thead td           {height: @lineheight;
                                font-size: @smalltype;
                                background: transparent;}
            td                 {width:@lineheight * 2.5;
                                height:@lineheight * 2.5;
                                color:@neutral7;
                                font-size:@typeheight;
                                position:relative;
                                padding:2px;
                span.cal_num   {position:relative;
                                padding:4px, 2px;}
                span.cal_count {position:relative;
                                font-size:@typeheight2;
                                font-weight:bold;
                                top:@lineheight;
                                float:right;
                                padding-right:2px;
                                color:@accent6;}
                }
            }
        }

    /*** step logs on user profile ***/
    .step_log_table        {max-width:100%;
                            min-width:100%;
        .step              {max-width: 7%;}
        .prompt            {max-width: 40%;
                            min-width: 40%;}
        .count             {max-width: 7%;
                            color: @accent6;}
        .right             {max-width: 7%;
                            color: @accent4;}
        .wrong             {max-width: 7%;
                            color: @accent12;}
        .last_wrong        {max-width: 14%;
                            color: @accent12;
                            min-width: 14%;}
        .right_since       {max-width: 7%;
                            color: @accent4;}
        .tags              {width:auto;
                            min-width: 20%;}
        }

    /*** tag records on user profile ***/
    #tag_records_table     {
        td:first-child     {max-width:7%;}
        td:nth-child(2)    {color: #fff;
                            padding-left:0;
                            padding-right:0;
            span           {height:@typeheight;
                            display:inline-block;
                            max-width:10em;
                            position:relative;
                &.right    {.linear-gradient(lighten(@accent8, 10%), darken(@accent8, 5%));}
                &.right_num {color: @accent8;
                             margin-left: @typeheight/4;
                             top:-1px;
                             vertical-align: top;}
                &.wrong    {.linear-gradient(lighten(@accent12, 10%), darken(@accent12, 5%));}
                &.wrong_num {color: @accent12;
                             margin-left: @typeheight/4;
                             top:-1px;
                             vertical-align: top;}
                &.ratio    {.linear-gradient(lighten(@accent6, 10%), darken(@accent6, 5%));}
                &.ratio_num {color: @accent6;
                             margin-left: @typeheight/4;
                             top:-1px;
                             vertical-align: top;}
                }
            }
        td:nth-child(3)    {color: @accent6;}
        td:nth-child(4)    {color: @accent12;}
        }

    /*** tag progress on user profile ***/
    #tag_progress_table    {
        td:first-child     {color: @accent6;}
        }

    /*** bug reports on user profile ***/
    #tab_bug_reports table {
        td                 {min-width:140px;
            &:nth-child(3) {min-width:100px;}
            }
        }
    }

/* main page footer */
body footer                {background-color:transparent;
                            color:@accent3;
                            .text-shadow();

    #poweredby             {float: right;}
    }

.flash                     {position:absolute;
                            width:280px;
                            left:50%;
                            top:0;
                            margin-left:-140px;
                            z-index:100;}

/* ================= iPad in portrait ================= */
@media all and (orientation:portrait){
}

/* ================= iPad in landscape ================= */
@media all and (orientation:landscape){
}

/* ================= iPhone4 (retina screen) ================= */
@media only screen
and (-webkit-min-device-pixel-ratio: 2)
and (max-device-width: 480px){
}

/* ================= Intermediate browser viewing area (480px+)================= */
@media screen
and (max-width: 480px){

#left_sidebar, #right_sidebar {
    padding:0;
    width:20px;
    overflow: hidden;
}

#left_sidebar:hover, #right_sidebar:hover {
    padding:@lineheight3;
    width:30%;
}


}

/* ================= Wide browser viewing area (768px +) ==================== */
@media only screen
and (max-width: 768px) {



}

/* ================= Max browser viewing area (1140px +) ==================== */
@media only screen and (min-width: 1140px) {

}

/* ============================================================================= Print styles. Inlined to avoid required HTTP connection: www.phpied.com/delay-loading-your-print-css/ ========================================================================== */
@media print {

}
